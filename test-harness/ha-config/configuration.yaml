# Home Assistant Test Harness Configuration
# This creates a reproducible HA instance with demo entities for visual comparison testing.
# DO NOT use for production. No authentication is configured intentionally.

homeassistant:
  name: "Test Harness"
  unit_system: metric
  temperature_unit: C
  time_zone: Europe/London
  auth_providers:
    - type: homeassistant
    - type: trusted_networks
      trusted_networks:
        - 0.0.0.0/0
      allow_bypass_login: true

# Core frontend
frontend:
  themes: !include_dir_merge_named themes

# Enable demo integration â€” creates entities for 29 domains:
# light, climate, cover, fan, media_player, switch, alarm_control_panel,
# lock, sensor, binary_sensor, camera, vacuum, weather, humidifier, etc.
demo:

# Additional entities not covered by demo integration.
# These match the fixtures in HASnapshotTestHelpers.

input_number:
  target_temperature:
    name: "Target Temperature"
    min: 1
    max: 100
    step: 1
    mode: slider
    icon: mdi:thermometer
    initial: 18
  standing_desk_height:
    name: "Standing Desk Height"
    min: 60
    max: 120
    step: 1
    mode: box
    unit_of_measurement: cm
    icon: mdi:desk
    initial: 72

input_select:
  media_source:
    name: "Media Source"
    options:
      - AppleTV
      - FireTV
      - Shield
    initial: Shield
    icon: mdi:remote
  living_room_app:
    name: "Living Room App"
    options:
      - PowerOff
      - YouTube
      - Netflix
      - Plex
      - AppleTV
    initial: YouTube
    icon: mdi:application

input_text:
  greeting:
    name: "Greeting"
    initial: "Hello World"
    min: 0
    max: 100
    mode: text
    icon: mdi:form-textbox
  notes:
    name: "Notes"
    initial: ""
    min: 0
    max: 100
    mode: text
    icon: mdi:form-textbox

input_datetime:
  vacation_start:
    name: "Vacation Start"
    has_date: true
    has_time: false
    icon: mdi:calendar
  morning_alarm:
    name: "Morning Alarm"
    has_date: false
    has_time: true
    icon: mdi:clock-outline
  appointment:
    name: "Appointment"
    has_date: true
    has_time: true
    icon: mdi:calendar-clock

input_boolean:
  in_meeting:
    name: "In Meeting"
    icon: mdi:laptop-account

timer:
  laundry:
    name: "Laundry"
    duration: "00:10:00"
    icon: mdi:timer-outline
  oven:
    name: "Oven"
    duration: "00:30:00"
    icon: mdi:timer-pause

counter:
  litterbox_visits:
    name: "Litterbox Visits"
    initial: 3
    step: 1
    icon: mdi:cat
  page_views:
    name: "Page Views"
    initial: 42
    step: 1
    icon: mdi:counter

scene:
  - name: "Movie Night"
    icon: mdi:movie-open
    entities: {}
  - name: "Good Morning"
    icon: mdi:weather-sunny
    entities: {}

# Lovelace in YAML mode for reproducible dashboards
lovelace:
  mode: yaml
  dashboards:
    test-harness:
      mode: yaml
      title: "Test Harness"
      filename: dashboards/test-harness.yaml
      show_in_sidebar: true
      icon: mdi:test-tube
